(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{322:function(e,t,n){},357:function(e,t,n){var o=n(0),i=n(5);o({target:"Object",stat:!0,forced:!i,sham:!i},{defineProperties:n(175)})},358:function(e,t,n){var o=n(0),i=n(1),r=n(14),s=n(25).f,l=n(5),c=i((function(){s(1)}));o({target:"Object",stat:!0,forced:!l||c,sham:!l},{getOwnPropertyDescriptor:function(e,t){return s(r(e),t)}})},359:function(e,t,n){"use strict";var o=n(322);n.n(o).a},362:function(e,t,n){"use strict";n.r(t);n(46),n(24),n(94),n(357),n(174),n(358),n(177),n(93),n(95);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}var r={data:function(){var e=this;return{dragConf:{isDown:!1,isMove:!1,offsetTop:0,offsetLeft:0,clientX:0,clientY:0,ele:null,info:null},nodeItemList:[{label:"节点1",value:{width:120,height:40,meta:{label:"1"}}},{label:"节点2",value:{width:120,height:40,meta:{label:"2"}}},{label:"节点3",value:{width:120,height:40,meta:{label:"3"}}},{label:"节点4",value:{width:120,height:40,meta:{label:"4"}}}],nodeMenu:[[{label:"删除",selected:function(e){e.remove()}},{label:"编辑",selected:function(t){e.flowNodeClick(t.meta)}}]],linkMenu:[[{label:"删除",selected:function(e){e.remove()}}]]}},mounted:function(){var e=this;document.addEventListener("mousemove",this.docMousemove),document.addEventListener("mouseup",this.docMouseup),this.$once("hook:beforeDestroy",(function(){document.removeEventListener("mousemove",e.docMousemove),document.removeEventListener("mouseup",e.docMouseup)}))},methods:{flowNodeClick:function(e){console.log("编辑 ".concat(e.label))},docMousemove:function(e){var t=e.clientX,n=e.clientY,o=this.dragConf;o.isMove?(o.ele.style.top=n-o.offsetTop+"px",o.ele.style.left=t-o.offsetLeft+"px"):o.isDown&&(o.isMove=Math.abs(t-o.clientX)>5||Math.abs(n-o.clientY)>5)},docMouseup:function(e){var t=e.clientX,n=e.clientY,r=this.dragConf;if(r.isDown=!1,r.isMove){var s=this.$refs.flowContainer.getBoundingClientRect(),l=s.top,c=s.right,a=s.bottom;if(t>s.left&&t<c&&n>l&&n<a){var f=this.$refs.superFlow.getMouseCoordinate(t-r.offsetLeft,n-r.offsetTop);this.$refs.superFlow.addNode(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({coordinate:f},r.info))}r.isMove=!1}r.ele&&(r.ele.remove(),r.ele=null)},nodeItemMouseDown:function(e,t){var n=e.clientX,o=e.clientY,i=e.currentTarget,r=e.currentTarget.getBoundingClientRect(),s=r.top,l=r.left,c=this.dragConf,a=i.cloneNode(!0);Object.assign(this.dragConf,{offsetLeft:n-l,offsetTop:o-s,clientX:n,clientY:o,info:t,ele:a,isDown:!0}),a.style.position="fixed",a.style.margin="0",a.style.top=o-c.offsetTop+"px",a.style.left=n-c.offsetLeft+"px",this.$el.appendChild(this.dragConf.ele)}}},s=(n(359),n(43)),l=Object(s.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"super-flow-demo3"},[n("div",{staticClass:"node-container"},e._l(e.nodeItemList,(function(t){return n("span",{staticClass:"node-item",on:{mousedown:function(n){return e.nodeItemMouseDown(n,t.value)}}},[e._v("\n      "+e._s(t.label)+"\n    ")])})),0),e._v(" "),n("div",{ref:"flowContainer",staticClass:"flow-container"},[n("super-flow",{ref:"superFlow",attrs:{"node-menu":e.nodeMenu,"link-menu":e.linkMenu},scopedSlots:e._u([{key:"node",fn:function(t){var o=t.meta;return[n("div",{staticClass:"flow-node"},[e._v("\n          "+e._s(o.label)+"\n        ")])]}}])})],1)])}),[],!1,null,null,null);t.default=l.exports}}]);